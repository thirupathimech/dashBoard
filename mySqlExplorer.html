<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MySQL Topics Explorer</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    
    <!-- Prism.js for Syntax Highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-sql.min.js"></script>
    
    <!-- Alpine.js for Reactive Components -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    
    <!-- Favicon -->
   <link rel="icon" href="favicon.ico">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .code-container {
            position: relative;
            overflow: hidden;
        }
        
        .code-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s;
        }
        
        .code-container:hover::before {
            transform: translateX(100%);
        }
        
        .topic-card {
            transition: all 0.3s ease;
        }
        
        .topic-card:hover {
            transform: translateY(-5px);
        }
        
        .sidebar-item {
            transition: all 0.2s ease;
        }
        
        .sidebar-item:hover {
            padding-left: 1.5rem;
        }
        
        .sidebar-item.active {
            border-left: 4px solid #667eea;
            background: rgba(102, 126, 234, 0.1);
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .animate-fadeInUp {
            animation: fadeInUp 0.6s ease-out;
        }
        
        .search-highlight {
            background: rgba(251, 191, 36, 0.3);
            padding: 2px 4px;
            border-radius: 3px;
        }
        
        .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.1);
            border-radius: 10px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: rgba(102, 126, 234, 0.5);
            border-radius: 10px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: rgba(102, 126, 234, 0.7);
        }
    </style>
</head>
<body class="bg-gray-50 dark:bg-gray-900 transition-colors duration-300" x-data="mysqlExplorer()">
    <!-- Progress Bar -->
    <div class="fixed top-0 left-0 h-1 bg-gradient-to-r from-purple-500 to-indigo-600 z-50 transition-all duration-300" 
         :style="`width: ${scrollPercentage}%`"></div>
    
    <!-- Header -->
    <header class="gradient-bg text-white shadow-lg sticky top-0 z-40">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <button @click="window.location.href='index.html'" 
                            class="p-2 rounded-lg glass-effect hover:bg-white/20 transition-all">
                        <i class="fas fa-home text-xl"></i>
                    </button>
                    <div>
                        <h1 class="text-2xl font-bold">MySQL Topics Explorer</h1>
                        <p class="text-sm opacity-90">Master MySQL with interactive examples</p>
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <!-- Search Bar -->
                    <div class="relative">
                        <input type="text" 
                               x-model="searchQuery" 
                               @input="filterTopics()"
                               placeholder="Search topics..." 
                               class="w-64 px-4 py-2 pl-10 rounded-lg bg-white/20 glass-effect text-white placeholder-white/70 focus:outline-none focus:ring-2 focus:ring-white/50">
                        <i class="fas fa-search absolute left-3 top-3 text-white/70"></i>
                    </div>
                    
                    <!-- Theme Toggle -->
                    <button @click="toggleTheme()" 
                            class="p-2 rounded-lg glass-effect hover:bg-white/20 transition-all">
                        <i class="fas" :class="darkMode ? 'fa-sun' : 'fa-moon'"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>
    
    <div class="flex">
        <!-- Sidebar -->
        <aside class="w-64 bg-white dark:bg-gray-800 shadow-lg h-screen sticky top-16 overflow-y-auto custom-scrollbar hidden lg:block">
            <div class="p-4">
                <h3 class="text-lg font-semibold text-gray-800 dark:text-white mb-4">Categories</h3>
                <nav class="space-y-2">
                    <template x-for="category in categories" :key="category.id">
                        <button @click="scrollToCategory(category.id)"
                                :class="activeCategory === category.id ? 'active' : ''"
                                class="sidebar-item w-full text-left px-4 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700">
                            <i :class="category.icon" class="mr-3"></i>
                            <span x-text="category.name"></span>
                        </button>
                    </template>
                </nav>
            </div>
        </aside>
        
        <!-- Main Content -->
        <main class="flex-1 container mx-auto px-4 py-8">
            <!-- MySQL SQL Section -->
            <section id="mysql-sql" class="mb-12 animate-fadeInUp">
                <div class="flex items-center mb-6">
                    <div class="bg-gradient-to-r from-purple-500 to-indigo-600 text-white p-3 rounded-lg mr-4">
                        <i class="fas fa-code text-2xl"></i>
                    </div>
                    <div>
                        <h2 class="text-3xl font-bold text-gray-800 dark:text-white">MySQL SQL</h2>
                        <p class="text-gray-600 dark:text-gray-400">Core SQL commands and queries</p>
                    </div>
                </div>
                
                <div class="grid gap-4">
                    <template x-for="topic in filteredSqlTopics" :key="topic.topic">
                        <div class="topic-card bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden">
                            <button @click="topic.expanded = !topic.expanded"
                                    class="w-full px-6 py-4 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
                                <div class="flex items-center">
                                    <i class="fas fa-chevron-right mr-3 transition-transform" 
                                       :class="topic.expanded ? 'rotate-90' : ''"></i>
                                    <h3 class="text-lg font-semibold text-gray-800 dark:text-white" x-text="topic.topic"></h3>
                                </div>
                                <span class="text-sm text-gray-500 dark:text-gray-400" x-text="`${topic.examples.length} examples`"></span>
                            </button>
                            
                            <div x-show="topic.expanded" x-transition class="px-6 pb-4">
                                <p class="text-gray-600 dark:text-gray-300 mb-4" x-text="topic.description"></p>
                                
                                <div class="space-y-3">
                                    <template x-for="(example, index) in topic.examples" :key="index">
                                        <div class="code-container bg-gray-900 rounded-lg p-4 relative group">
                                            <pre><code class="language-sql text-sm" x-text="example"></code></pre>
                                            <button @click="copyToClipboard(example)"
                                                    class="absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity bg-purple-600 text-white px-3 py-1 rounded text-sm hover:bg-purple-700">
                                                <i class="fas fa-copy mr-1"></i> Copy
                                            </button>
                                        </div>
                                    </template>
                                </div>
                            </div>
                        </div>
                    </template>
                </div>
            </section>
            
            <!-- MySQL Database Section -->
            <section id="mysql-database" class="mb-12 animate-fadeInUp">
                <div class="flex items-center mb-6">
                    <div class="bg-gradient-to-r from-green-500 to-teal-600 text-white p-3 rounded-lg mr-4">
                        <i class="fas fa-database text-2xl"></i>
                    </div>
                    <div>
                        <h2 class="text-3xl font-bold text-gray-800 dark:text-white">MySQL Database</h2>
                        <p class="text-gray-600 dark:text-gray-400">Database management and operations</p>
                    </div>
                </div>
                
                <div class="grid gap-4">
                    <template x-for="topic in filteredDatabaseTopics" :key="topic.topic">
                        <div class="topic-card bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden">
                            <button @click="topic.expanded = !topic.expanded"
                                    class="w-full px-6 py-4 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
                                <div class="flex items-center">
                                    <i class="fas fa-chevron-right mr-3 transition-transform" 
                                       :class="topic.expanded ? 'rotate-90' : ''"></i>
                                    <h3 class="text-lg font-semibold text-gray-800 dark:text-white" x-text="topic.topic"></h3>
                                </div>
                                <span class="text-sm text-gray-500 dark:text-gray-400" x-text="`${topic.examples.length} examples`"></span>
                            </button>
                            
                            <div x-show="topic.expanded" x-transition class="px-6 pb-4">
                                <p class="text-gray-600 dark:text-gray-300 mb-4" x-text="topic.description"></p>
                                
                                <div class="space-y-3">
                                    <template x-for="(example, index) in topic.examples" :key="index">
                                        <div class="code-container bg-gray-900 rounded-lg p-4 relative group">
                                            <pre><code class="language-sql text-sm" x-text="example"></code></pre>
                                            <button @click="copyToClipboard(example)"
                                                    class="absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700">
                                                <i class="fas fa-copy mr-1"></i> Copy
                                            </button>
                                        </div>
                                    </template>
                                </div>
                            </div>
                        </div>
                    </template>
                </div>
            </section>
            
            <!-- MySQL References Section -->
            <section id="mysql-references" class="mb-12 animate-fadeInUp">
                <div class="flex items-center mb-6">
                    <div class="bg-gradient-to-r from-orange-500 to-red-600 text-white p-3 rounded-lg mr-4">
                        <i class="fas fa-book text-2xl"></i>
                    </div>
                    <div>
                        <h2 class="text-3xl font-bold text-gray-800 dark:text-white">MySQL References</h2>
                        <p class="text-gray-600 dark:text-gray-400">Data types and functions</p>
                    </div>
                </div>
                
                <div class="grid gap-4">
                    <template x-for="topic in filteredReferenceTopics" :key="topic.topic">
                        <div class="topic-card bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden">
                            <button @click="topic.expanded = !topic.expanded"
                                    class="w-full px-6 py-4 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
                                <div class="flex items-center">
                                    <i class="fas fa-chevron-right mr-3 transition-transform" 
                                       :class="topic.expanded ? 'rotate-90' : ''"></i>
                                    <h3 class="text-lg font-semibold text-gray-800 dark:text-white" x-text="topic.topic"></h3>
                                </div>
                                <span class="text-sm text-gray-500 dark:text-gray-400" x-text="`${topic.examples.length} examples`"></span>
                            </button>
                            
                            <div x-show="topic.expanded" x-transition class="px-6 pb-4">
                                <p class="text-gray-600 dark:text-gray-300 mb-4" x-text="topic.description"></p>
                                
                                <div class="space-y-3">
                                    <template x-for="(example, index) in topic.examples" :key="index">
                                        <div class="code-container bg-gray-900 rounded-lg p-4 relative group">
                                            <pre><code class="language-sql text-sm" x-text="example"></code></pre>
                                            <button @click="copyToClipboard(example)"
                                                    class="absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity bg-orange-600 text-white px-3 py-1 rounded text-sm hover:bg-orange-700">
                                                <i class="fas fa-copy mr-1"></i> Copy
                                            </button>
                                        </div>
                                    </template>
                                </div>
                            </div>
                        </div>
                    </template>
                </div>
            </section>
        </main>
    </div>
    
    <!-- Back to Top Button -->
    <button @click="scrollToTop()"
            x-show="showBackToTop"
            x-transition
            class="fixed bottom-8 right-8 bg-gradient-to-r from-purple-500 to-indigo-600 text-white p-4 rounded-full shadow-lg hover:shadow-xl transform hover:scale-110 transition-all z-40">
        <i class="fas fa-arrow-up"></i>
    </button>
    
    <!-- Toast Notification -->
    <div x-show="showToast"
         x-transition:enter="transition ease-out duration-300"
         x-transition:enter-start="opacity-0 transform translate-y-full"
         x-transition:enter-end="opacity-100 transform translate-y-0"
         x-transition:leave="transition ease-in duration-200"
         x-transition:leave-start="opacity-100"
         x-transition:leave-end="opacity-0"
         class="fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50">
        <i class="fas fa-check-circle mr-2"></i>
        <span x-text="toastMessage"></span>
    </div>
    
    <script>
        function mysqlExplorer() {
            return {
                darkMode: false,
                searchQuery: '',
                scrollPercentage: 0,
                showBackToTop: false,
                showToast: false,
                toastMessage: '',
                activeCategory: 'mysql-sql',
                
                categories: [
                    { id: 'mysql-sql', name: 'MySQL SQL', icon: 'fas fa-code' },
                    { id: 'mysql-database', name: 'MySQL Database', icon: 'fas fa-database' },
                    { id: 'mysql-references', name: 'MySQL References', icon: 'fas fa-book' }
                ],
                
                sqlTopics: [
                    {
                        topic: "SELECT",
                        description: "Retrieves data from tables.",
                        examples: [
                            "SELECT first_name, last_name FROM customers WHERE city = 'Chennai';",
                            "SELECT * FROM products WHERE price > 500;",
                            "SELECT id, name FROM employees WHERE dept_id = 2;",
                            "SELECT product_name, price FROM inventory WHERE stock > 0;"
                        ],
                        expanded: false
                    },
                    {
                        topic: "WHERE",
                        description: "Filters records based on a condition.",
                        examples: [
                            "SELECT * FROM employees WHERE dept_id = 3;",
                            "SELECT * FROM orders WHERE order_date >= '2025-01-01';",
                            "SELECT name FROM products WHERE category = 'Electronics';",
                            "SELECT * FROM users WHERE status = 'active';"
                        ],
                        expanded: false
                    },
                    {
                        topic: "AND, OR, NOT",
                        description: "Combines conditions in a WHERE clause.",
                        examples: [
                            "SELECT * FROM products WHERE price > 100 AND category = 'Electronics' OR NOT in_stock;",
                            "SELECT * FROM users WHERE age >= 18 AND NOT status = 'inactive';",
                            "SELECT * FROM orders WHERE customer_id = 101 AND order_date < '2025-01-01';",
                            "SELECT * FROM employees WHERE dept_id = 5 OR NOT salary > 50000;"
                        ],
                        expanded: false
                    },
                    {
                        topic: "ORDER BY",
                        description: "Sorts the result set by columns.",
                        examples: [
                            "SELECT * FROM products ORDER BY price DESC;",
                            "SELECT name, age FROM users ORDER BY age ASC, name DESC;",
                            "SELECT * FROM orders ORDER BY order_date DESC;",
                            "SELECT name, salary FROM employees ORDER BY salary ASC;"
                        ],
                        expanded: false
                    },
                    {
                        topic: "INSERT INTO",
                        description: "Adds new rows to a table.",
                        examples: [
                            "INSERT INTO orders (customer_id, order_date) VALUES (101, '2025-05-23');",
                            "INSERT INTO products (name, price) VALUES ('Laptop', 75000);",
                            "INSERT INTO employees (name, dept_id) VALUES ('John', 3);",
                            "INSERT INTO users (username, status) VALUES ('alice', 'active');"
                        ],
                        expanded: false
                    },
                    {
                        topic: "NULL Values",
                        description: "Handles NULL values in queries.",
                        examples: [
                            "SELECT * FROM employees WHERE email IS NULL;",
                            "SELECT * FROM orders WHERE shipped_date IS NOT NULL;",
                            "SELECT name FROM customers WHERE phone IS NULL;",
                            "SELECT * FROM products WHERE description IS NOT NULL;"
                        ],
                        expanded: false
                    },
                    {
                        topic: "UPDATE",
                        description: "Modifies existing data in a table.",
                        examples: [
                            "UPDATE employees SET salary = salary + 5000 WHERE dept_id = 3;",
                            "UPDATE products SET price = 600 WHERE id = 101;",
                            "UPDATE users SET status = 'inactive' WHERE last_login < '2024-01-01';",
                            "UPDATE orders SET shipped_date = '2025-05-24' WHERE order_id = 1001;"
                        ],
                        expanded: false
                    },
                    {
                        topic: "DELETE",
                        description: "Removes rows based on a condition.",
                        examples: [
                            "DELETE FROM orders WHERE order_date < '2024-01-01';",
                            "DELETE FROM users WHERE status = 'inactive';",
                            "DELETE FROM products WHERE stock = 0;",
                            "DELETE FROM employees WHERE dept_id = 4;"
                        ],
                        expanded: false
                    },
                    {
                        topic: "LIMIT",
                        description: "Limits the number of rows returned.",
                        examples: [
                            "SELECT * FROM products LIMIT 10;",
                            "SELECT * FROM orders ORDER BY order_date DESC LIMIT 5;",
                            "SELECT name FROM employees LIMIT 3;",
                            "SELECT * FROM customers ORDER BY id ASC LIMIT 20;"
                        ],
                        expanded: false
                    },
                    {
                        topic: "MIN and MAX",
                        description: "Finds the minimum or maximum value in a column.",
                        examples: [
                            "SELECT MIN(price), MAX(price) FROM products;",
                            "SELECT MIN(order_date), MAX(order_date) FROM orders;",
                            "SELECT MIN(salary), MAX(salary) FROM employees;",
                            "SELECT MIN(stock), MAX(stock) FROM inventory;"
                        ],
                        expanded: false
                    },
                    {
                        topic: "COUNT, AVG, SUM",
                        description: "Aggregate functions for counting, averaging, and summing.",
                        examples: [
                            "SELECT COUNT(*), AVG(salary), SUM(salary) FROM employees;",
                            "SELECT COUNT(id), SUM(quantity) FROM orders WHERE status = 'shipped';",
                            "SELECT COUNT(*), AVG(price), SUM(price) FROM products;",
                            "SELECT COUNT(id), SUM(stock) FROM inventory WHERE location = 'Warehouse';"
                        ],
                        expanded: false
                    },
                    {
                        topic: "LIKE",
                        description: "Searches for a specified pattern in a column.",
                        examples: [
                            "SELECT * FROM products WHERE name LIKE 'Phone%';",
                            "SELECT * FROM customers WHERE email LIKE '%@gmail.com';",
                            "SELECT name FROM employees WHERE name LIKE '%son';",
                            "SELECT * FROM orders WHERE order_notes LIKE '%urgent%';"
                        ],
                        expanded: false
                    },
                    {
                        topic: "Wildcards",
                        description: "Uses % and _ for pattern matching with LIKE.",
                        examples: [
                            "SELECT * FROM customers WHERE email LIKE '%@gmail.com';",
                            "SELECT * FROM products WHERE name LIKE 'Lapt_p';",
                            "SELECT name FROM employees WHERE name LIKE 'J_n%';",
                            "SELECT * FROM orders WHERE order_id LIKE '2025[0-5]%';"
                        ],
                        expanded: false
                    },
                    {
                        topic: "IN",
                        description: "Specifies multiple values in a WHERE clause.",
                        examples: [
                            "SELECT * FROM products WHERE category IN ('Electronics', 'Appliances');",
                            "SELECT * FROM employees WHERE dept_id IN (1, 2, 3);",
                            "SELECT name FROM users WHERE status IN ('active', 'pending');",
                            "SELECT * FROM orders WHERE customer_id IN (101, 102, 103);"
                        ],
                        expanded: false
                    },
                    {
                        topic: "BETWEEN",
                        description: "Selects values within a given range, inclusive.",
                        examples: [
                            "SELECT * FROM employees WHERE salary BETWEEN 30000 AND 50000;",
                            "SELECT * FROM orders WHERE order_date BETWEEN '2025-01-01' AND '2025-12-31';",
                            "SELECT * FROM products WHERE price BETWEEN 100 AND 1000;",
                            "SELECT name FROM users WHERE age BETWEEN 20 AND 30;"
                        ],
                        expanded: false
                    },
                    {
                        topic: "Aliases",
                        description: "Renames a column or table for the query result.",
                        examples: [
                            "SELECT first_name AS fname FROM customers;",
                            "SELECT p.name AS product_name FROM products p;",
                            "SELECT e.name AS employee_name FROM employees e;",
                            "SELECT order_date AS o_date FROM orders o;"
                        ],
                        expanded: false
                    },
                    {
                        topic: "INNER JOIN",
                        description: "Combines rows from two tables where the join condition is met.",
                        examples: [
                            "SELECT c.name, o.order_date FROM customers c INNER JOIN orders o ON c.id = o.customer_id;",
                            "SELECT e.name, d.dept_name FROM employees e INNER JOIN departments d ON e.dept_id = d.id;",
                            "SELECT p.name, i.stock FROM products p INNER JOIN inventory i ON p.id = i.product_id;",
                            "SELECT u.name, r.role_name FROM users u INNER JOIN roles r ON u.role_id = r.id;"
                        ],
                        expanded: false
                    },
                    {
                        topic: "LEFT JOIN",
                        description: "Returns all rows from the left table, with matching rows from the right table.",
                        examples: [
                            "SELECT c.name, o.order_date FROM customers c LEFT JOIN orders o ON c.id = o.customer_id;",
                            "SELECT e.name, d.dept_name FROM employees e LEFT JOIN departments d ON e.dept_id = d.id;",
                            "SELECT p.name, i.stock FROM products p LEFT JOIN inventory i ON p.id = i.product_id;",
                            "SELECT u.name, r.role_name FROM users u LEFT JOIN roles r ON u.role_id = r.id;"
                        ],
                        expanded: false
                    },
                    {
                        topic: "RIGHT JOIN",
                        description: "Returns all rows from the right table, with matching rows from the left table.",
                        examples: [
                            "SELECT c.name, o.order_date FROM customers c RIGHT JOIN orders o ON c.id = o.customer_id;",
                            "SELECT e.name, d.dept_name FROM employees e RIGHT JOIN departments d ON e.dept_id = d.id;",
                            "SELECT p.name, i.stock FROM products p RIGHT JOIN inventory i ON p.id = i.product_id;",
                            "SELECT u.name, r.role_name FROM users u RIGHT JOIN roles r ON u.role_id = r.id;"
                        ],
                        expanded: false
                    },
                    {
                        topic: "CROSS JOIN",
                        description: "Produces a Cartesian product of two tables.",
                        examples: [
                            "SELECT * FROM colors CROSS JOIN sizes;",
                            "SELECT e.name, r.role_name FROM employees e CROSS JOIN roles r;",
                            "SELECT p.name, c.category_name FROM products p CROSS JOIN categories c;",
                            "SELECT u.name, d.dept_name FROM users u CROSS JOIN departments d;"
                        ],
                        expanded: false
                    },
                    {
                        topic: "Self Join",
                        description: "Joins a table with itself.",
                        examples: [
                            "SELECT e1.name, e2.name FROM employees e1 INNER JOIN employees e2 ON e1.manager_id = e2.id;",
                            "SELECT p1.name, p2.name FROM products p1 INNER JOIN products p2 ON p1.category = p2.category WHERE p1.id < p2.id;",
                            "SELECT c1.name, c2.name FROM customers c1 INNER JOIN customers c2 ON c1.referred_by = c2.id;",
                            "SELECT u1.username, u2.username FROM users u1 INNER JOIN users u2 ON u1.team_id = u2.team_id WHERE u1.id != u2.id;"
                        ],
                        expanded: false
                    },
                    {
                        topic: "UNION",
                        description: "Combines the results of two or more SELECT queries.",
                        examples: [
                            "SELECT name FROM customers UNION SELECT name FROM suppliers;",
                            "SELECT email FROM users UNION SELECT email FROM admins;",
                            "SELECT product_name FROM products UNION SELECT item_name FROM inventory;",
                            "SELECT dept_name FROM departments UNION SELECT team_name FROM teams;"
                        ],
                        expanded: false
                    },
                    {
                        topic: "GROUP BY",
                        description: "Groups rows for aggregate functions.",
                        examples: [
                            "SELECT dept_id, COUNT(*) AS emp_count FROM employees GROUP BY dept_id;",
                            "SELECT category, SUM(price) AS total_price FROM products GROUP BY category;",
                            "SELECT customer_id, COUNT(*) AS order_count FROM orders GROUP BY customer_id;",
                            "SELECT status, AVG(salary) AS avg_salary FROM users GROUP BY status;"
                        ],
                        expanded: false
                    },
                    {
                        topic: "HAVING",
                        description: "Filters grouped results from a GROUP BY clause.",
                        examples: [
                            "SELECT dept_id, COUNT(*) AS emp_count FROM employees GROUP BY dept_id HAVING COUNT(*) > 5;",
                            "SELECT category, SUM(price) AS total FROM products GROUP BY category HAVING SUM(price) > 10000;",
                            "SELECT customer_id, COUNT(*) AS order_count FROM orders GROUP BY customer_id HAVING COUNT(*) >= 3;",
                            "SELECT status, AVG(salary) AS avg_salary FROM employees GROUP BY status HAVING AVG(salary) < 40000;"
                        ],
                        expanded: false
                    },
                    {
                        topic: "EXISTS",
                        description: "Tests for the existence of rows in a subquery.",
                        examples: [
                            "SELECT name FROM customers WHERE EXISTS (SELECT 1 FROM orders WHERE orders.customer_id = customers.id);",
                            "SELECT name FROM products WHERE EXISTS (SELECT 1 FROM inventory WHERE inventory.product_id = products.id);",
                            "SELECT name FROM employees WHERE EXISTS (SELECT 1 FROM projects WHERE projects.emp_id = employees.id);",
                            "SELECT username FROM users WHERE EXISTS (SELECT 1 FROM logs WHERE logs.user_id = users.id);"
                        ],
                        expanded: false
                    },
                    {
                        topic: "ANY, ALL",
                        description: "Compares a value to any or all values in a subquery.",
                        examples: [
                            "SELECT name FROM products WHERE price > ALL (SELECT price FROM products WHERE category = 'Electronics');",
                            "SELECT name FROM employees WHERE salary > ANY (SELECT salary FROM employees WHERE dept_id = 2);",
                            "SELECT name FROM orders WHERE total > ALL (SELECT total FROM orders WHERE customer_id = 101);",
                            "SELECT name FROM users WHERE age < ANY (SELECT age FROM users WHERE status = 'active');"
                        ],
                        expanded: false
                    },
                    {
                        topic: "INSERT SELECT",
                        description: "Inserts data into a table from a SELECT query.",
                        examples: [
                            "INSERT INTO archive_orders SELECT * FROM orders WHERE order_date < '2024-01-01';",
                            "INSERT INTO backup_users SELECT * FROM users WHERE status = 'inactive';",
                            "INSERT INTO old_products SELECT * FROM products WHERE discontinued = 1;",
                            "INSERT INTO temp_logs SELECT * FROM logs WHERE log_date < '2025-01-01';"
                        ],
                        expanded: false
                    },
                    {
                        topic: "CASE",
                        description: "Provides conditional logic in a query.",
                        examples: [
                            "SELECT name, CASE WHEN salary > 50000 THEN 'High' ELSE 'Low' END AS salary_level FROM employees;",
                            "SELECT product_name, CASE WHEN stock > 0 THEN 'In Stock' ELSE 'Out of Stock' END AS availability FROM products;",
                            "SELECT order_id, CASE WHEN total > 1000 THEN 'Large' ELSE 'Small' END AS order_size FROM orders;",
                            "SELECT username, CASE WHEN age < 18 THEN 'Minor' ELSE 'Adult' END AS age_group FROM users;"
                        ],
                        expanded: false
                    },
                    {
                        topic: "Null Functions",
                        description: "Handles NULL values (e.g., IFNULL, COALESCE).",
                        examples: [
                            "SELECT name, IFNULL(email, 'No Email') AS email FROM customers;",
                            "SELECT name, COALESCE(phone, mobile, 'No Contact') AS contact FROM users;",
                            "SELECT product_name, IFNULL(description, 'No Description') AS desc FROM products;",
                            "SELECT order_id, COALESCE(shipped_date, 'Not Shipped') AS status FROM orders;"
                        ],
                        expanded: false
                    },
                    {
                        topic: "Comments",
                        description: "Adds comments to SQL code for documentation.",
                        examples: [
                            "-- This is a single-line comment\nSELECT * FROM employees;",
                            "SELECT * FROM products /* This is a multi-line comment */ WHERE price > 100;",
                            "-- Fetch all active users\nSELECT * FROM users WHERE status = 'active';",
                            "SELECT * FROM orders /* Filter by year 2025 */ WHERE order_date LIKE '2025%';"
                        ],
                        expanded: false
                    },
                    {
                        topic: "Operators",
                        description: "Uses operators like =, <>, >, <, etc., in queries.",
                        examples: [
                            "SELECT * FROM products WHERE price > 100 AND stock <> 0;",
                            "SELECT * FROM employees WHERE salary <= 40000 OR dept_id = 5;",
                            "SELECT name FROM users WHERE age >= 18 AND age < 30;",
                            "SELECT * FROM orders WHERE total != 0 AND customer_id = 101;"
                        ],
                        expanded: false
                    },
                    {
                        topic: "SUBQUERY",
                        description: "A query nested within another query.",
                        examples: [
                            "SELECT name FROM employees WHERE dept_id = (SELECT id FROM departments WHERE name = 'Sales');",
                            "SELECT * FROM products WHERE price > (SELECT AVG(price) FROM products);",
                            "SELECT name FROM customers WHERE id IN (SELECT customer_id FROM orders WHERE total > 5000);",
                            "SELECT username FROM users WHERE id = (SELECT user_id FROM logs WHERE log_date = '2025-05-24');"
                        ],
                        expanded: false
                    },
                    {
                        topic: "TRUNCATE TABLE",
                        description: "Removes all rows from a table but keeps the structure.",
                        examples: [
                            "TRUNCATE TABLE logs;",
                            "TRUNCATE TABLE temp_data;",
                            "TRUNCATE TABLE old_orders;",
                            "TRUNCATE TABLE backup_users;"
                        ],
                        expanded: false
                    },
                    {
                        topic: "PARTITION BY",
                        description: "Divides rows into partitions for window functions.",
                        examples: [
                            "SELECT name, salary, RANK() OVER (PARTITION BY dept_id ORDER BY salary DESC) AS rank FROM employees;",
                            "SELECT product_name, price, SUM(price) OVER (PARTITION BY category) AS total_category_price FROM products;",
                            "SELECT order_id, total, ROW_NUMBER() OVER (PARTITION BY customer_id ORDER BY order_date) AS order_num FROM orders;",
                            "SELECT username, age, DENSE_RANK() OVER (PARTITION BY status ORDER BY age) AS age_rank FROM users;"
                        ],
                        expanded: false
                    },
                    {
                        topic: "WITH (CTE)",
                        description: "Defines a Common Table Expression for reusable subqueries.",
                        examples: [
                            "WITH high_salary AS (SELECT * FROM employees WHERE salary > 50000) SELECT * FROM high_salary WHERE dept_id = 1;",
                            "WITH recent_orders AS (SELECT * FROM orders WHERE order_date >= '2025-01-01') SELECT customer_id, COUNT(*) FROM recent_orders GROUP BY customer_id;",
                            "WITH top_products AS (SELECT * FROM products WHERE price > 1000) SELECT * FROM top_products WHERE category = 'Electronics';",
                            "WITH active_users AS (SELECT * FROM users WHERE status = 'active') SELECT username, age FROM active_users WHERE age > 25;"
                        ],
                        expanded: false
                    },
                    {
                        topic: "ON DUPLICATE KEY UPDATE",
                        description: "Updates a row if a duplicate key is encountered during insertion.",
                        examples: [
                            "INSERT INTO users (id, name, email) VALUES (1, 'John', 'john@example.com') ON DUPLICATE KEY UPDATE email = 'john@example.com';",
                            "INSERT INTO products (id, stock) VALUES (101, 50) ON DUPLICATE KEY UPDATE stock = stock + 50;",
                            "INSERT INTO employees (id, salary) VALUES (5, 60000) ON DUPLICATE KEY UPDATE salary = 60000;",
                            "INSERT INTO orders (order_id, total) VALUES (1001, 1500) ON DUPLICATE KEY UPDATE total = 1500;"
                        ],
                        expanded: false
                    },
                    {
                        topic: "REPLACE",
                        description: "Replaces a row if a duplicate key exists, or inserts a new row.",
                        examples: [
                            "REPLACE INTO users (id, name, email) VALUES (1, 'John', 'john@example.com');",
                            "REPLACE INTO products (id, name, price) VALUES (101, 'Laptop', 75000);",
                            "REPLACE INTO employees (id, name, dept_id) VALUES (5, 'Alice', 3);",
                            "REPLACE INTO orders (order_id, customer_id, total) VALUES (1001, 101, 2000);"
                        ],
                        expanded: false
                    },
                    {
                        topic: "EXPLAIN",
                        description: "Shows how MySQL executes a query.",
                        examples: [
                            "EXPLAIN SELECT * FROM employees WHERE dept_id = 3;",
                            "EXPLAIN SELECT * FROM orders WHERE customer_id = 101;",
                            "EXPLAIN SELECT * FROM products WHERE price > 500;",
                            "EXPLAIN SELECT * FROM users WHERE status = 'active';"
                        ],
                        expanded: false
                    },
                    {
                        topic: "SHOW",
                        description: "Displays information about databases, tables, etc.",
                        examples: [
                            "SHOW DATABASES;",
                            "SHOW TABLES;",
                            "SHOW COLUMNS FROM employees;",
                            "SHOW INDEX FROM products;"
                        ],
                        expanded: false
                    }
                ],
                
                databaseTopics: [
                    {
                        topic: "CREATE DB",
                        description: "Creates a new database.",
                        examples: [
                            "CREATE DATABASE company_db;",
                            "CREATE DATABASE inventory_db;",
                            "CREATE DATABASE sales_db;",
                            "CREATE DATABASE hr_db;"
                        ],
                        expanded: false
                    },
                    {
                        topic: "DROP DB",
                        description: "Deletes a database.",
                        examples: [
                            "DROP DATABASE company_db;",
                            "DROP DATABASE inventory_db;",
                            "DROP DATABASE sales_db;",
                            "DROP DATABASE hr_db;"
                        ],
                        expanded: false
                    },
                    {
                        topic: "CREATE TABLE",
                        description: "Creates a new table with specified columns.",
                        examples: [
                            "CREATE TABLE students (id INT PRIMARY KEY, name VARCHAR(50), age INT);",
                            "CREATE TABLE products (id INT, name VARCHAR(100), price DECIMAL(10,2));",
                            "CREATE TABLE orders (order_id INT, customer_id INT, order_date DATE);",
                            "CREATE TABLE employees (emp_id INT, name VARCHAR(50), dept_id INT);"
                        ],
                        expanded: false
                    },
                    {
                        topic: "DROP TABLE",
                        description: "Deletes a table and its data permanently.",
                        examples: [
                            "DROP TABLE temp_data;",
                            "DROP TABLE old_logs;",
                            "DROP TABLE archive_orders;",
                            "DROP TABLE backup_users;"
                        ],
                        expanded: false
                    },
                    {
                        topic: "ALTER TABLE",
                        description: "Modifies the structure of an existing table.",
                        examples: [
                            "ALTER TABLE employees ADD COLUMN email VARCHAR(100);",
                            "ALTER TABLE products MODIFY COLUMN price DECIMAL(12,2);",
                            "ALTER TABLE orders DROP COLUMN notes;",
                            "ALTER TABLE users ADD COLUMN last_login DATE;"
                        ],
                        expanded: false
                    },
                    {
                        topic: "NOT NULL",
                        description: "Ensures a column cannot have NULL values.",
                        examples: [
                            "CREATE TABLE users (id INT NOT NULL, username VARCHAR(50));",
                            "ALTER TABLE employees MODIFY COLUMN name VARCHAR(50) NOT NULL;",
                            "CREATE TABLE orders (order_id INT NOT NULL, customer_id INT);",
                            "ALTER TABLE products MODIFY COLUMN name VARCHAR(100) NOT NULL;"
                        ],
                        expanded: false
                    },
                    {
                        topic: "UNIQUE",
                        description: "Ensures all values in a column are unique.",
                        examples: [
                            "CREATE TABLE users (id INT, email VARCHAR(100) UNIQUE);",
                            "ALTER TABLE products ADD CONSTRAINT unique_name UNIQUE (name);",
                            "CREATE TABLE employees (emp_id INT, employee_code VARCHAR(10) UNIQUE);",
                            "ALTER TABLE orders ADD CONSTRAINT unique_order UNIQUE (order_id);"
                        ],
                        expanded: false
                    },
                    {
                        topic: "PRIMARY KEY",
                        description: "Uniquely identifies each row in a table.",
                        examples: [
                            "CREATE TABLE orders (order_id INT PRIMARY KEY, customer_id INT);",
                            "ALTER TABLE users ADD PRIMARY KEY (id);",
                            "CREATE TABLE products (id INT PRIMARY KEY, name VARCHAR(100));",
                            "ALTER TABLE employees ADD PRIMARY KEY (emp_id);"
                        ],
                        expanded: false
                    },
                    {
                        topic: "FOREIGN KEY",
                        description: "Links two tables together.",
                        examples: [
                            "CREATE TABLE orders (order_id INT, customer_id INT, FOREIGN KEY (customer_id) REFERENCES customers(id));",
                            "ALTER TABLE employees ADD FOREIGN KEY (dept_id) REFERENCES departments(id);",
                            "CREATE TABLE order_details (id INT, order_id INT, FOREIGN KEY (order_id) REFERENCES orders(order_id));",
                            "ALTER TABLE products ADD FOREIGN KEY (category_id) REFERENCES categories(id);"
                        ],
                        expanded: false
                    },
                    {
                        topic: "CHECK",
                        description: "Ensures values in a column meet a specific condition.",
                        examples: [
                            "CREATE TABLE employees (id INT, age INT CHECK (age >= 18));",
                            "ALTER TABLE products ADD CONSTRAINT check_price CHECK (price > 0);",
                            "CREATE TABLE orders (order_id INT, total DECIMAL(10,2) CHECK (total >= 0));",
                            "ALTER TABLE users ADD CONSTRAINT check_age CHECK (age <= 100);"
                        ],
                        expanded: false
                    },
                    {
                        topic: "DEFAULT",
                        description: "Sets a default value for a column.",
                        examples: [
                            "CREATE TABLE users (id INT, status VARCHAR(20) DEFAULT 'active');",
                            "ALTER TABLE orders MODIFY COLUMN order_date DATE DEFAULT '2025-01-01';",
                            "CREATE TABLE products (id INT, stock INT DEFAULT 0);",
                            "ALTER TABLE employees MODIFY COLUMN dept_id INT DEFAULT 1;"
                        ],
                        expanded: false
                    },
                    {
                        topic: "CREATE INDEX",
                        description: "Creates an index to improve query performance.",
                        examples: [
                            "CREATE INDEX idx_name ON customers (last_name);",
                            "CREATE INDEX idx_price ON products (price);",
                            "CREATE INDEX idx_order_date ON orders (order_date);",
                            "CREATE INDEX idx_dept ON employees (dept_id);"
                        ],
                        expanded: false
                    },
                    {
                        topic: "AUTO INCREMENT",
                        description: "Automatically generates unique values for a column.",
                        examples: [
                            "CREATE TABLE users (id INT AUTO_INCREMENT PRIMARY KEY, name VARCHAR(50));",
                            "ALTER TABLE products MODIFY COLUMN id INT AUTO_INCREMENT;",
                            "CREATE TABLE orders (order_id INT AUTO_INCREMENT PRIMARY KEY, customer_id INT);",
                            "ALTER TABLE employees MODIFY COLUMN emp_id INT AUTO_INCREMENT;"
                        ],
                        expanded: false
                    },
                    {
                        topic: "Dates",
                        description: "Handles date and time data types.",
                        examples: [
                            "SELECT * FROM events WHERE event_date = '2025-05-23';",
                            "SELECT * FROM orders WHERE order_date >= NOW();",
                            "SELECT * FROM users WHERE last_login < '2025-01-01';",
                            "SELECT * FROM logs WHERE log_timestamp BETWEEN '2025-01-01' AND '2025-12-31';"
                        ],
                        expanded: false
                    },
                    {
                        topic: "Views",
                        description: "Creates a virtual table from a SELECT query.",
                        examples: [
                            "CREATE VIEW active_users AS SELECT * FROM users WHERE status = 'active';",
                            "CREATE VIEW high_value_orders AS SELECT * FROM orders WHERE total > 10000;",
                            "CREATE VIEW dept_employees AS SELECT * FROM employees WHERE dept_id = 3;",
                            "CREATE VIEW product_stock AS SELECT * FROM products WHERE stock > 0;"
                        ],
                        expanded: false
                    }
                ],
                
                referenceTopics: [
                    {
                        topic: "Data Types",
                        description: "Defines the type of data a column can hold (e.g., INT, VARCHAR, DATE).",
                        examples: [
                            "CREATE TABLE products (id INT, name VARCHAR(100), price DECIMAL(10,2), created_at DATE);",
                            "CREATE TABLE logs (id INT, message TEXT, timestamp DATETIME);",
                            "CREATE TABLE users (id INT, username VARCHAR(50), age SMALLINT, active BOOLEAN);",
                            "CREATE TABLE orders (order_id INT, total DECIMAL(10,2), order_date DATE, notes LONGTEXT);"
                        ],
                        expanded: false
                    },
                    {
                        topic: "Functions",
                        description: "Built-in functions for manipulating data (e.g., CONCAT, NOW).",
                        examples: [
                            "SELECT CONCAT(first_name, ' ', last_name) AS full_name, NOW() AS current_time FROM users;",
                            "SELECT UPPER(name) AS upper_name, LENGTH(description) AS desc_length FROM products;"
                        ],
                        expanded: false
                    }
                ],
                
                get filteredSqlTopics() {
                    if (!this.searchQuery) return this.sqlTopics;
                    return this.sqlTopics.filter(topic => 
                        topic.topic.toLowerCase().includes(this.searchQuery.toLowerCase()) ||
                        topic.description.toLowerCase().includes(this.searchQuery.toLowerCase()) ||
                        topic.examples.some(ex => ex.toLowerCase().includes(this.searchQuery.toLowerCase()))
                    );
                },
                
                get filteredDatabaseTopics() {
                    if (!this.searchQuery) return this.databaseTopics;
                    return this.databaseTopics.filter(topic => 
                        topic.topic.toLowerCase().includes(this.searchQuery.toLowerCase()) ||
                        topic.description.toLowerCase().includes(this.searchQuery.toLowerCase()) ||
                        topic.examples.some(ex => ex.toLowerCase().includes(this.searchQuery.toLowerCase()))
                    );
                },
                
                get filteredReferenceTopics() {
                    if (!this.searchQuery) return this.referenceTopics;
                    return this.referenceTopics.filter(topic => 
                        topic.topic.toLowerCase().includes(this.searchQuery.toLowerCase()) ||
                        topic.description.toLowerCase().includes(this.searchQuery.toLowerCase()) ||
                        topic.examples.some(ex => ex.toLowerCase().includes(this.searchQuery.toLowerCase()))
                    );
                },
                
                init() {
                    // Check for dark mode preference
                    this.darkMode = localStorage.getItem('darkMode') === 'true' || 
                                   (!localStorage.getItem('darkMode') && window.matchMedia('(prefers-color-scheme: dark)').matches);
                    this.applyTheme();
                    
                    // Initialize scroll listeners
                    window.addEventListener('scroll', () => {
                        this.updateScrollPercentage();
                        this.updateBackToTopButton();
                        this.updateActiveCategory();
                    });
                    
                    // Initialize Prism.js
                    setTimeout(() => Prism.highlightAll(), 100);
                },
                
                toggleTheme() {
                    this.darkMode = !this.darkMode;
                    this.applyTheme();
                    localStorage.setItem('darkMode', this.darkMode);
                },
                
                applyTheme() {
                    if (this.darkMode) {
                        document.documentElement.classList.add('dark');
                    } else {
                        document.documentElement.classList.remove('dark');
                    }
                },
                
                updateScrollPercentage() {
                    const scrollHeight = document.documentElement.scrollHeight - window.innerHeight;
                    const scrollPosition = window.scrollY;
                    this.scrollPercentage = (scrollPosition / scrollHeight) * 100;
                },
                
                updateBackToTopButton() {
                    this.showBackToTop = window.scrollY > 300;
                },
                
                updateActiveCategory() {
                    const sections = ['mysql-sql', 'mysql-database', 'mysql-references'];
                    const scrollPosition = window.scrollY + 100;
                    
                    for (const section of sections) {
                        const element = document.getElementById(section);
                        if (element) {
                            const { offsetTop, offsetHeight } = element;
                            if (scrollPosition >= offsetTop && scrollPosition < offsetTop + offsetHeight) {
                                this.activeCategory = section;
                                break;
                            }
                        }
                    }
                },
                
                scrollToCategory(categoryId) {
                    const element = document.getElementById(categoryId);
                    if (element) {
                        element.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                },
                
                scrollToTop() {
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                },
                
                copyToClipboard(text) {
                    navigator.clipboard.writeText(text).then(() => {
                        this.toastMessage = 'Code copied to clipboard!';
                        this.showToast = true;
                        setTimeout(() => {
                            this.showToast = false;
                        }, 3000);
                    });
                },
                
                filterTopics() {
                    // Filter is handled by computed properties
                    setTimeout(() => Prism.highlightAll(), 100);
                }
            }
        }
    </script>
</body>
</html>
